/**
 * Vanilla Javascript Sticky Table v1.0.0
 * https://github.com/zhitkovkostya/vanilla-js-sticky-table#readme
 */
document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".js-table");e.forEach(e=>{new StickyTable(e)})});class StickyTable{scrollLeft=0;el=null;wrapperElement=null;constructor(e){this.el=e,this._wrapTable(),this._wrapTableHead(),this._wrapTableBody(),this._syncColumnWidth(),this._syncHeadPosition(),this._handleWindowScrollThrottled=throttle(this._handleWindowScroll.bind(this),20),this._handleWindowResizeThrottled=throttle(this._handleWindowResize.bind(this),20),window.addEventListener("scroll",this._handleWindowScrollThrottled.bind(this),!1),window.addEventListener("resize",this._handleWindowResizeThrottled.bind(this))}_wrapTable(){const e=document.createElement("div");e.className="table-wrapper js-table-wrapper",this.el.parentNode.insertBefore(e,this.el),e.append(this.el),this.wrapperElement=e}_wrapTableHead(){const e=document.createElement("table");var t=this.el.tHead.cloneNode(!0);this.el.tHead.classList.add("table__head--hidden"),e.classList.add("table"),this.headWrapperElement=document.createElement("div"),this.headWrapperElement.className="table-head-wrapper js-table-head-wrapper",this.headWrapperElement.ariaHidden=!0,this.headWrapperElement.appendChild(e).appendChild(t),this.wrapperElement.insertBefore(this.headWrapperElement,this.el),this._handleHeadWrapperHorizontalScrollThrottled=throttle(this._handleHorizontalScroll.bind(this),10),this.headWrapperElement.addEventListener("scroll",this._handleHeadWrapperHorizontalScrollThrottled.bind(this),!1)}_wrapTableBody(){this.bodyWrapperElement=document.createElement("div"),this.bodyWrapperElement.className="table-body-wrapper js-table-body-wrapper",this.wrapperElement.insertBefore(this.bodyWrapperElement,this.el),this.bodyWrapperElement.appendChild(this.el),this._handleBodyWrapperHorizontalScrollThrottled=throttle(this._handleHorizontalScroll.bind(this),10),this.bodyWrapperElement.addEventListener("scroll",this._handleBodyWrapperHorizontalScrollThrottled.bind(this),!1)}_syncColumnWidth(){var e,t=this.headWrapperElement.querySelector("table");let l,r;for(e of this.bodyWrapperElement.querySelector("table").tHead.rows)for(var i of e.cells)r=i.offsetWidth,l=t.tHead.rows[e.rowIndex].cells[i.cellIndex],l.style.minWidth=r+"px",l.style.maxWidth=r+"px"}_syncHeadPosition(){var e="table-head-wrapper--fixed",t=this.headWrapperElement.classList.contains(e),{bottom:l,width:r,height:i}=this.headWrapperElement.getBoundingClientRect(),{top:a,width:n}=this.bodyWrapperElement.getBoundingClientRect();t&&i<=a?(this.bodyWrapperElement.style.marginTop=null,this.headWrapperElement.style.width=null,this.headWrapperElement.classList.remove(e)):!t&&l<=i&&(this.bodyWrapperElement.style.marginTop=i+"px",this.headWrapperElement.style.width=n+"px",this.headWrapperElement.classList.add(e)),r!==n&&(this.headWrapperElement.style.width=n+"px")}_syncHorizontalScroll(e,t){e=e.scrollLeft;this.scrollLeft!==e&&(this.scrollLeft=e,t.scrollLeft=e)}_handleHorizontalScroll(e){var t=e.target,e=t.nextSibling||t.previousSibling;this._syncHorizontalScroll(t,e)}_handleWindowScroll(){this._syncHeadPosition()}_handleWindowResize(){this._syncHeadPosition()}destroy(){window.removeEventListener("scroll",this._handleWindowScrollThrottled,!1),window.removeEventListener("resize",this._handleWindowResizeThrottled),this.headWrapperElement.removeEventListener("scroll",this._handleBodyWrapperHorizontalScrollThrottled,!1),this.bodyWrapperElement.addEventListener("scroll",this._handleBodyWrapperHorizontalScrollThrottled,!1)}}function throttle(t,l=100){let r=null;return function(...e){null===r&&(r=setTimeout(()=>{t.apply(this,e),r=null},l))}}